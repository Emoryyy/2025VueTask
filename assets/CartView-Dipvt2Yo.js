import{c as n,o as r,a as t,F as v,r as g,t as d,i as w,b as y,u as h,_ as $,d as b,p as L,e as M,f as x}from"./index-B74Z2W_9.js";const D={class:"col-md-8"},k={class:"row"},C={class:"card h-100"},B=["src"],H={class:"card-body"},A={class:"card-title fs-5 fw-bold"},V={class:"card-text"},N={class:"fw-bold text-primary my-2"},P=["onClick"],j={__name:"ProductList",props:{productList:{type:Array,required:!0}},emits:["emit-product"],setup(p,{emit:o}){const a=p,l=o,_=m=>{l("emit-product",m)};return(m,u)=>(r(),n("div",D,[u[0]||(u[0]=t("h2",{class:"fs-4 fw-bold mb-3"},"商品列表",-1)),t("div",k,[(r(!0),n(v,null,g(a.productList,s=>(r(),n("div",{key:s.id,class:"col-md-4 mb-4"},[t("div",C,[t("img",{src:s.img,class:"card-img-top"},null,8,B),t("div",H,[t("h5",A,d(s.name),1),t("p",V,d(s.describe),1),t("p",N,"$ "+d(s.price),1),t("button",{class:"btn btn-success w-100",onClick:i=>_(s.id)}," 加入購物車 ",8,P)])])]))),128))])]))}},q={class:"col-md-4"},G={class:"list-group mb-3"},T={class:"my-1"},I={class:"text-muted"},S={class:"text-muted"},E=["onClick"],W={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},Y={class:"text-end"},F={__name:"CartList",props:{cartList:{type:Array,required:!0},priceTotal:{type:Number,required:!0}},emits:["emit-product"],setup(p,{emit:o}){const a=p,l=o,_=m=>{l("emit-product",m)};return(m,u)=>(r(),n("div",q,[u[0]||(u[0]=t("h2",{class:"fs-4 fw-bold mb-3"},"購物車",-1)),t("ul",G,[a.cartList&&a.cartList.length>0?(r(!0),n(v,{key:0},g(a.cartList,(s,i)=>(r(),n("li",{key:s.id,class:"list-group-item d-flex justify-content-between align-items-center"},[t("div",null,[t("h6",T,d(s.name),1),t("small",I,"數量："+d(s.num),1)]),t("div",null,[t("span",S,"$"+d(s.price),1),t("button",{class:"btn btn-sm btn-outline-danger ms-2",onClick:e=>_(s.id)}," 移除 ",8,E)])]))),128)):(r(),n("li",W,"購物車內無商品"))]),t("div",Y,"總金額："+d(a.priceTotal),1)]))}},z={key:0,class:"position-fixed top-0 end-0 p-3",style:{"z-index":"1050"}},J={class:"toast show align-items-center text-white bg-success border-0"},K={class:"d-flex"},O={class:"toast-body"},Q={__name:"NotifyMsg",setup(p){const o=w("notifyMsg");return(a,l)=>h(o).isShow?(r(),n("div",z,[t("div",J,[t("div",K,[t("div",O,d({add:"加入",remove:"移除"}[h(o).method])+" "+d(h(o).message)+" 成功！",1),l[0]||(l[0]=t("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto"},null,-1))])])])):y("",!0)}},R={id:"app",class:"container py-4"},U={class:"row"},X={__name:"CartView",setup(p){const o=b({message:"",isShow:!1,method:"add"});L("notifyMsg",o.value);const a=(i,e)=>{o.value.message=i,o.value.isShow=!0,o.value.method=e,setTimeout(()=>{o.value.isShow=!1},1e3)},l=i=>{if(i){const e=u.value.find(f=>f.id==i),c=s.value.findIndex(f=>f.id==i);c>-1?s.value[c].num+=1:s.value.push({id:e.id,name:e.name,price:e.price,num:1}),a(e.name,"add")}},_=i=>{if(i){const e=s.value.findIndex(c=>c.id==i);if(e>-1){const c=s.value[e].name;s.value.splice(e,1),a(c,"remove")}}},m=M(()=>s.value.reduce((e,c)=>e+c.price*c.num,0)),u=b([{id:1,img:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?q=80&amp;w=2065&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"耳罩式藍牙耳機-藍色",describe:"舒適配戴，支援降噪技術",price:2490},{id:2,img:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?q=80&amp;w=2065&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"耳罩式藍牙耳機-紅色",describe:"舒適配戴，支援降噪技術",price:2480},{id:3,img:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?q=80&amp;w=2065&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",name:"耳罩式藍牙耳機-黃色",describe:"舒適配戴，支援降噪技術",price:2470}]),s=b([]);return(i,e)=>(r(),n("div",R,[t("div",U,[x(j,{productList:u.value,onEmitProduct:l},null,8,["productList"]),x(F,{cartList:s.value,onEmitProduct:_,priceTotal:m.value},null,8,["cartList","priceTotal"])]),x(Q)]))}},tt=$(X,[["__scopeId","data-v-917ef2db"]]);export{tt as default};
