import{d as m,c as u,a as t,w as a,f as p,v as n,g,h as c,j as f,o as w,k as v}from"./index-BUmTTfRd.js";import{a as b}from"./index-NIGUFBhG.js";const x={id:"loginPage",class:"bg-yellow"},C={class:"conatiner loginPage vhContainer"},k={class:"formControls",action:"index.html"},h="https://todolist-api.hexschool.io/",B={__name:"LoginView",setup(y){const r=f(),s=m({email:"",password:""}),i=async()=>{try{const e=await b.post(`${h}users/sign_in`,s.value);e.data.status&&(alert("登入成功"),r.push("/todo"),document.cookie=`userToken=${e.data.token};path=/`)}catch(e){const o=e.response.data.message;alert(o)}};return(e,o)=>{const d=c("RouterLink");return w(),u("div",x,[t("div",C,[o[8]||(o[8]=t("div",{class:"side"},[t("a",{href:"#"},[t("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),t("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),t("div",null,[t("form",k,[o[4]||(o[4]=t("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1)),o[5]||(o[5]=t("label",{class:"formControls_label",for:"email"},"Email",-1)),a(t("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":o[0]||(o[0]=l=>s.value.email=l)},null,512),[[n,s.value.email]]),o[6]||(o[6]=t("span",null,"此欄位不可留空",-1)),o[7]||(o[7]=t("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),a(t("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":o[1]||(o[1]=l=>s.value.password=l)},null,512),[[n,s.value.password]]),t("input",{class:"formControls_btnSubmit",type:"button",value:"登入",onClick:o[2]||(o[2]=l=>i())}),p(d,{to:"/signup",class:"formControls_btnLink"},{default:g(()=>[...o[3]||(o[3]=[v("註冊帳號",-1)])]),_:1})])])])])}}};export{B as default};
